<HTML>
  <HEAD>
    <meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
    <TITLE>i5/OS Programmer's Toolkit - MI/EMI Programmer's Guide</TITLE>
    <link href="tabs.css" rel="stylesheet" type="text/css">
    <link href="doxygen.css" rel="stylesheet" type="text/css">
    <link href="docs.css" rel="stylesheet" type="text/css">

    <table width="100%" border="0" cellspacing="0" cellpadding="0">
      <tr>
        <td align="left">
          <a href="http://sourceforge.net/donate/index.php?group_id=254578"><img src="http://images.sourceforge.net/images/project-support.jpg" width="88" height="32" border="0" alt="Support This Project" /> </a>
        </td>
        <td align="right">
          <a href="http://sourceforge.net/projects/i5toolkit"><img src="http://sflogo.sourceforge.net/sflogo.php?group_id=254578&amp;type=13" width="120" height="30" alt="Get i5/OS Programmer's Toolkit at SourceForge.net. Fast, secure and Free Open Source software downloads" /></a>
        </td>

      </tr>
    </table>

  </HEAD>
  <body>
<!-- Generated by Doxygen 1.5.9 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1><a class="anchor" name="page_insidx">CL Command INSIDX (Insert User Index) </a></h1>Go back to <a href="../index.html">main page</a> of i5/OS Programmer's Toolkit.<p>
CL command INSIDX is a member of i5/OS Programmer's Toolkit. The INSIDX command inserts an entry into a user index (*USRIDX) object whose MI object type and subtype is hex 0E0A.<p>
<ul>
<li><a class="el" href="page_insidx.html#sect_insidx_cmd">Parameters of command INSIDX</a></li><li><a class="el" href="page_insidx.html#sect_insidx_eg">Usage Examples</a></li><li><a class="el" href="page_insidx.html#sect_insidx_image">Screenshots</a></li></ul>
<h2><a class="anchor" name="sect_insidx_cmd">
Parameters of command INSIDX</a></h2>
<table border="1" cellspacing="3" cellpadding="3">
<tr bgcolor="silver">
<td>Parameter </td><td>Description  </td></tr>
<tr>
<td>User Index Object (USRIDX) </td><td>Name and library of the user index object (*USRIDX) object. The library name is default to *LIBL.  <p>
</td></tr>
<tr>
<td>Entry data (ENTRY) </td><td>Entry data to insert into the user index.  <p>
</td></tr>
<tr>
<td>Entry length (ENTLEN) </td><td>Length of entry data. For a fixed-length-entry user index object, the actural entry length of the user index will be used instead. Use CL command DSPIDXD to check the entry length attributes of a user index object.  <p>
</td></tr>
<tr>
<td>Insert with replacement (REPLACE) </td><td>Valid only for a keyed user index. Specify *YES to replace the nonkey portion of the index entry if the key is already in the user index. Specify *NO to insert the entry only if the key is not already in the user index.  <p>
</td></tr>
</table>
<h2><a class="anchor" name="sect_insidx_eg">
Usage Examples</a></h2>
<b>Create a *USRIDX object</b><p>
To create a *USRIDX object, one may use API <a href="http://publib.boulder.ibm.com/infocenter/iseries/v5r4/topic/apis/quscrtui.htm">QUSCRTUI </a>. For example <div class="fragment"><pre class="fragment">CALL PGM(QUSCRTUI) PARM(
     'INX1      LSBIN'    <span class="comment">/* qualified *USRIDX name and library */</span>
     'HELLO'              <span class="comment">/* extended attribute */</span>
     'V'                  <span class="comment">/* entry length attribute: variable-length entries */</span>
     X'FFFFFFFF'          <span class="comment">/* entry length: -1 enables a maximum entry length</span>
<span class="comment">                                           of 2000 and a key length from 1</span>
<span class="comment">                                           through 2000. */</span>
     '1'                  <span class="comment">/* key insertion: yes*/</span>
     X'00000008'          <span class="comment">/* key length: 8 */</span>
     '1'                  <span class="comment">/* immediate update: yes */</span>
     '0'                  <span class="comment">/* optimization: optimize for random references */</span>
     '*EXCLUDE'           <span class="comment">/* public authority: *EXCLUDE */</span>
     'var-length, key-length=8' <span class="comment">/* text description */</span>
     '*YES'               <span class="comment">/* replace: yes */</span>
     X'00000010000000000000000000000000' <span class="comment">/* error code: 16 bytes */</span>
     )
</pre></div><p>
<b>Insert an entry into a *USRIDX object</b><p>
Example of using CL command INSIDX to insert an entry into a *USRIDX object <div class="fragment"><pre class="fragment">INSIDX USRIDX(*LIBL/INX1)
       ENTRY('0001000Ani hao :)')
       ENTLEN(17)
       REPLACE(*YES)      <span class="comment">/* replace the nonkey portion of the index</span>
<span class="comment">                             entry if the key is already in the user</span>
<span class="comment">                             index. */</span>
</pre></div><p>
<b>Examine Contents of a *USRIDX object</b><p>
To examine what's in a *USRIDX object, one may use CL command DMPOBJ or DMPSYSOBJ. For example, issuing DMPOBJ command on the *USRIDX object we've just created.<p>
<div class="fragment"><pre class="fragment">DMPOBJ OBJ(INX1) OBJTYPE(*USRIDX)
</pre></div><p>
We may get the following result. Refer to the 'INDEX ENTRIES' section to see what we've just inserted into the *USRIDX object.<p>
<div class="fragment"><pre class="fragment"> 5722SS1 V5R2M0  071902                      AS/400 DUMP              302491/LJL/REDLIGHT        09/09/30 17:01:21        PAGE    1
 DMPOBJ PARAMETERS
 OBJ- INX1                            CONTEXT- LSBIN
 OBJTYPE- *USRIDX
 OBJECT TYPE-           INDEX                                           *USRIDX
 NAME-        INX1                            TYPE-          0E   SUBTYPE-          0A
 LIBRARY-     LSBIN                           TYPE-          04   SUBTYPE-          01
 CREATION-    09/09/30  16:58:51              SIZE-          0000005000
 OWNER-       LJL                             TYPE-          08   SUBTYPE-          01
 ATTRIBUTES-          0800                    ADDRESS-       3DF96FB351 000000
 INDEX ATTRIBUTES-
   000000   00FFF000 000000B0 0E0AC9D5 E7F14040   40404040 40404040 40404040 40404040  *  0    ^  INX1                  *
   000020   40404040 40404040 E0000000 00000000   00000E00 00800000 00000000 00000000  *        $                       *
   000040   00000000 00000000 22E9B508 1E000400   00000000 00000000 00000000 00000000  *         Z                     *
   000060   E5001100 08000000 01000000 00000000   01000000 00000000 00000000 00000000  *V                               *
   000080   00000000 00000000 00000000 00000000   00000000 00000000 00000000 00000000  *                                *
   0000A0   00000000 00000000 00000000 00000000                                        *                                *
 INDEX ENTRIES-
 . 000001-
   000000   F0F0F0F1 F0F0F0C1 95894088 8196407A   5D                                   *0001000Ani hao :)               *
 PRIMARY ASSOCIATED SPACE-
   000000   00000000 00000000 00000000 00000000   00000000 00000000 00000000 00000000  *                                *
         LINES  000020    TO    000DFF  SAME AS ABOVE
 .POINTERS-
   NONE
 OIR DATA-
 .TEXT-
   000000   A5819960 93859587 A3886B40 9285A885   846B4092 85A86093 85958788 A37EF840  *var-length, keyed, key-lenght=8 *
   000020   405CE8C5 E2                                                                * *YES                           *
 .SERVICE-
   000000   40404040 40404040 40404040 40404040   40404040 40F14040 40404040 40404040  *                     1          *
   000020   40404040 40404040 404040E5 F5D9F2D4   F0F1F0F9 F0F9F3F0 F1F6F5F8 F5F14040  *           V5R2M01090930165851  *
   000040   40404040 40404040 40404040 40404040   40404040 40404040 40404040 40404040  *                                *
   000060   40404040 40404040 40404040 40404040   40404040 40404040 00000000 00000000  *                                *
   000080   00000000 00000000 00000000 00000000   00000000 00000000 40400000 00000000  *                                *
   0000A0   00000000 00000000                                                          *                                *
 .ATTRIBUTE-
   000000   C8C5D3D3 D6                                                                *HELLO                           *
 .USAGE-
   000000   D3D1D340 40404040 4040F8F1 F0404040   40400000 00000000 0000               *LJL       810                   *
 END OF DUMP
 * * * *  E N D  O F  L I S T I N G  * * * * *
</pre></div><h2><a class="anchor" name="sect_insidx_image">
Screenshots</a></h2>
<div align="center">
<img src="idx-2.png" alt="idx-2.png">
</div>
 </div>
<hr size="1">

<a href="http://sourceforge.net/donate/index.php?group_id=254578"><img src="http://images.sourceforge.net/images/project-support.jpg" width="88" height="32" border="0" alt="Support This Project" /> </a>

<address style="text-align: right;"><small>Generated on Tue May 10 19:55:08 2011 for i5/OS Programmer's Toolkit: User Index Tools by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.9  </small></address>
</body>
</html>
